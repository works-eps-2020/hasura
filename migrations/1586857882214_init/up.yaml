- args:
    cascade: false
    read_only: false
    sql: "create extension \"uuid-ossp\";\n\nCREATE TABLE \"organization\" (\n\t\"id\"
      UUID primary key DEFAULT uuid_generate_v4(),\n\t\"name\" VARCHAR(50),\n\t\"description\"
      VARCHAR(200)\n);\n\nCREATE TABLE \"user\" (\n\t\"id\" UUID primary key DEFAULT
      uuid_generate_v4(),\n\t\"displayname\" VARCHAR(50),\n\t\"firstname\" VARCHAR(50),\n\t\"lastname\"
      VARCHAR(50),\n\t\"email\" VARCHAR(50)\n);\n\nCREATE TABLE \"role\" (\n\t\"id\"
      UUID primary key DEFAULT uuid_generate_v4(),\n\t\"name\" VARCHAR(50)\n);\n\nCREATE
      TABLE \"level\" (\n\t\"id\" UUID primary key DEFAULT uuid_generate_v4(),\n\t\"name\"
      VARCHAR(50)\n);\n\nCREATE TABLE \"topic\" (\n\t\"id\" UUID primary key DEFAULT
      uuid_generate_v4(),\n\t\"name\" VARCHAR(50),\n\t\"level_id\" UUID,\n\tFOREIGN
      KEY (\"level_id\") REFERENCES \"level\" (\"id\")\n);\n\nCREATE TABLE \"document\"
      (\n\t\"id\" UUID primary key DEFAULT uuid_generate_v4(),\n\t\"name\" VARCHAR(50),\n\t\"path\"
      VARCHAR(200),\n\t\"owner_id\" UUID,\n\t\"topic_id\" UUID,\n\tFOREIGN KEY (\"owner_id\")
      REFERENCES \"user\" (\"id\"),\n\tFOREIGN KEY (\"topic_id\") REFERENCES \"topic\"
      (\"id\")\n);\n\nCREATE TABLE \"trust_organization_domain\" (\n\t\"organization_id\"
      UUID DEFAULT uuid_generate_v4(),\n\t\"domain\" VARCHAR(50),\n\tFOREIGN KEY (\"organization_id\")
      REFERENCES \"organization\" (\"id\")\n);\n\nCREATE TABLE \"user_level\" (\n\t\"user_id\"
      UUID DEFAULT uuid_generate_v4(),\n\t\"level_id\" UUID,\n\tCONSTRAINT PK_user_level
      PRIMARY KEY (\"user_id\", \"level_id\")\n);\n\nCREATE TABLE \"user_organization\"
      (\n\t\"organization_id\" UUID,\n\t\"user_id\" UUID,\n\t\"manager\" boolean DEFAULT
      false,\n\tCONSTRAINT PK_user_organization PRIMARY KEY (\"organization_id\",
      \"user_id\"),\n\tFOREIGN KEY (\"organization_id\") REFERENCES organization (\"id\"),\n\tFOREIGN
      KEY (\"user_id\") REFERENCES \"user\" (\"id\")\n);"
  type: run_sql
- args:
    name: organization
    schema: public
  type: add_existing_table_or_view
- args:
    name: user
    schema: public
  type: add_existing_table_or_view
- args:
    name: role
    schema: public
  type: add_existing_table_or_view
- args:
    name: level
    schema: public
  type: add_existing_table_or_view
- args:
    name: topic
    schema: public
  type: add_existing_table_or_view
- args:
    name: document
    schema: public
  type: add_existing_table_or_view
- args:
    name: trust_organization_domain
    schema: public
  type: add_existing_table_or_view
- args:
    name: user_level
    schema: public
  type: add_existing_table_or_view
- args:
    name: user_organization
    schema: public
  type: add_existing_table_or_view
